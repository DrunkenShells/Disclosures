# CVE-2020-2875: Oracle MySQL Connectors "LOAD DATA LOCAL INFILE" Attack 

Vulnerability in the MySQL Connectors product of Oracle MySQL (component: Connector/J). 
<br/>
Supported versions that are affected are 8.0.14 and prior and 5.1.48 and prior.
<br/>
Difficult to exploit vulnerability allows unauthenticated attacker with network access via multiple protocols to compromise MySQL Connectors.
<br/>
Successful attacks of this vulnerability can result in unauthorized read access to a subset of MySQL Connectors accessible data.
<br/>
Attacks may significantly impact additional products.
<br/>

### Vendor Disclosure:

The vendor's disclosure and fix for this vulnerability can be found [here](https://www.oracle.com/security-alerts/cpuapr2020.html).

### Proof Of Concept:

This vulnerability can be leveraged for the following attacks:

<table>
	<tr>
		<th>Attack Technique</th>
		<th>Affected OS</th>
	<tr>
		<td>File Exfiltration</td>
		<td>All OS are vulnerable</td>
	</tr>
	<tr>
		<td>NTLM Capture and/or Relay</td>
		<td>Windows OS</td>
	</tr>
</table>

#### File Exfiltration

This technique can be used to read local files on the victim's machine.
<br/>
Proof of concept for exfiltrating "/etc/passwd".

<img src="Get%20passwd.png"/>

#### NTLM Capture and/or Relay

This technique can be used on Windows machines to force the victim to connect to an attacker controlled SMB server.
<br/>
Depending on the situation, an attacker may:
- capture the NTLM hash and crack it locally
- relay the NTLM hash to authenticate to another SMB server

Proof of concept for exfiltrating the "Administrator" user's NTLM hash and cracking it.

<img src="SMB%20Redirect.png"/>
<img src="NTLM%20Capture.png"/>
<img src="Crack%20Hash.png"/>

### Additional Resources:

[This vulnerability may lead to Remote Code Execution on the Oracle WebLogic software](PoC%20for%20Oracle%20WebLogic)
